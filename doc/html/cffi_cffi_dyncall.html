<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>CFFI Reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:monospace;*font-size:108%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto 10px;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:13.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:14.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:1;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}


/* Ruff default CSS */

body {
  max-width: 70em;
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft {
  text-align: left;
  border-top: 1px solid #006666;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #006666;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #006666;
 color: #006666;
}

p.linkline {
    text-align: right;
    font-size: smaller;
    /*    margin-top: -1em; */
    margin-bottom: 0;
}

.tinylink {
    font-size: x-small;
    font-variant: normal;
    font-family: Arial, sans-serif;
    float: right;
    padding:2px;
}

h1 .tinylink a {
    color: white;
}

a {
    text-decoration: none;
}
a:hover {
    text-decoration: underline;
}
.tinylink a {
    text-decoration: underline;
}

#bd {
font-family: Arial, sans-serif;
font-size: 108%;
}

div.navbox {
  /* margin-top: 1em; */
    background-color: #006666;
    color: white;
    padding: 3px 4px 2px 4px;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

div.navbox:hover {
    overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
    font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #006666;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
    position: relative;
    /* display: inline-block; */
}

.tooltip .tooltiptext {
    width: 100%;
    font-weight: bold;
    background-color: white;
    color: #006666;
    text-align: left;
    border: 1px solid #006666;
    /* border-radius: 4px; */
    position: absolute;
    z-index: 1;
    margin-left: 4px;
    padding: 2px 3px;
    visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}

span.ns_scope {
    color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
    background-color: #006666;
    color: #ffffff;
    padding-left: 0.2em;
    font-family: "Times New Roman", serif;
}
h2.ruff {
    font-variant: small-caps;
    color: #006666;
    font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
    color: #006666;
    margin-bottom: 0.2em;
}


h5.ruff {
    font-style: italic;
    font-weight: normal;
}
h6.ruff {
    font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
    border-bottom: thin solid #006666;
    color: #006666;
    margin-bottom: 0.2em;
}

pre {
    background-color: #eeeeee;
    margin-top: 1em;
    margin-left: 1em;
    padding: 5px;
    font-family: Consolas, "Courier New", monospace;
    //width: max-content;
    font-size: smaller;
    line-height: 1.2em;
}

.ruff_dyn_src {
    display: none; /* Displayed via JS */
}

.ruff_synopsis {
    border: thin solid #cccccc;
    background: #eeeeee;
    //font-size: smaller;
    font-family: Consolas, "Courier New", monospace;
    padding: 3px;
    margin: 0em 2em 1em;
}

.ruff_const, .ruff_cmd, code {
    font-family: Consolas, "Courier New", monospace;
    font-weight: bold;
    font-size: smaller;
    //background-color: #eeeeee;
    //padding: 0px 2px;
    //border-radius: 3px;
}

ruff_defitem {
    font-weight: bold;
    font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
    font-style: italic;
    font-family: Consolas, "Courier New", monospace;
    font-size: smaller;
}

.ruff_source_link {
    font-size: smaller;
}

.ruff_index {
    font-size: small;
    color: grey;
    line-height: 1;
}

.ruff_index ul li {
    list-style-type: none;
}

.ruff_index ul li a {
    text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
    /* Copied from Rails */
    var elem
    var link

    if( document.getElementById )
    {
        elem = document.getElementById( id )
        link = document.getElementById( "l_" + id )
    }
    else if ( document.all )
    {
        elem = eval( "document.all." + id )
        link = eval( "document.all.l_" + id )
    }
    else
        return false;

    if( elem.style.display == "block" )
    {
        elem.style.display = "none"
        link.innerHTML = "Show source"
    }
    else
    {
        elem.style.display = "block"
        link.innerHTML = "Hide source"
    }
}
</script></head>
<body><div id='doc3' class='yui-t2'><div id='hd' class='banner'>
<a style='text-decoration:none;' href='cffi.html'>CFFI Reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::cffi::dyncall'></a>::cffi::dyncall<span class='tinylink'><a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>This namespace contains classes wrapping the <code>dyncall</code> library for calling C functions in shared library. The namespace is automatically loaded with the <code>cffi</code> package.</p>
<h2 class='ruff'><a name='::cffi::dyncall-Classes'></a>Classes<span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall'>dyncall</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffclass'><a name='::cffi::dyncall::Library'>Library</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall" title="::cffi::dyncall" class='ruff_cmd'>::cffi::dyncall</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall'>dyncall</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::addressof" title="addressof" class='ruff_cmd'>addressof</a></td><td class='ruff_defitem'>Returns the address of a symbol from the loaded library.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::function" title="function" class='ruff_cmd'>function</a></td><td class='ruff_defitem'>Creates a Tcl command to invoke a C function in the loaded library.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::functions" title="functions" class='ruff_cmd'>functions</a></td><td class='ruff_defitem'>Creates Tcl commands for multiple C functions within the loaded library.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::path" title="path" class='ruff_cmd'>path</a></td><td class='ruff_defitem'>Returns the file system path for the wrapped library or image wrapped by the object.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcall" title="stdcall" class='ruff_cmd'>stdcall</a></td><td class='ruff_defitem'>Creates a Tcl command to invoke a C function that uses the <code>__stdcall</code> calling convention from the loaded library..</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcalls" title="stdcalls" class='ruff_cmd'>stdcalls</a></td><td class='ruff_defitem'>Creates Tcl commands for multiple C functions within the loaded library that all use the <code>__stdcall</code> calling convention.</td></tr>
</table>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::constructor'>constructor</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Wraps a shared library / DLL, loading it in the process.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Library create OBJNAME</span> <span class='ruff_arg'>?path?</span><br><span class='ruff_cmd'>Library new</span> <span class='ruff_arg'>?path?</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>path</code></td><td class='ruff_defitem'>Path to the shared library. If an empty string, the process main executable is wrapped. Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It is strongly recommended that the path to the shared library be specified as an absolute path. Otherwise, it is located in a system-specific manner involving operating system version, environment variables, registry settings (on Windows), phase of the moon etc.. This is not advisable for both reliability and security reasons.</p>
<p class='ruff'>When no longer needed, the object can be deleted in the usual manner (via <code>rename</code> to an empty string) or by invoking its <code>destroy</code> method.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the created object.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::destructor'>destructor</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys the object and releases internal resources.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> <br></div>
<h5 class='ruff'>Description</h5><p class='ruff'>The managed library may be unloaded if there is nothing else holding a reference to it.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::addressof'>addressof</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the address of a symbol from the loaded library.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT addressof</span> <span class='ruff_arg'>symbol</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>symbol</code></td><td class='ruff_defitem'>Name of the symbol.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The command will raise an error if the symbol is not found.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the address of a symbol from the loaded library.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::function'>function</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a Tcl command to invoke a C function in the loaded library.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT function</span> <span class='ruff_arg'>fnname fntype parameters</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fnname</code></td><td class='ruff_defitem'>Name of the function and optionally, Tcl command.</td></tr>
<tr><td class='ruff_defitem'><code>fntype</code></td><td class='ruff_defitem'>The type definition for the return value from the function.</td></tr>
<tr><td class='ruff_defitem'><code>parameters</code></td><td class='ruff_defitem'>List of alternating parameter name and type definitions.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The command creates a Tcl command corresponding to a C function contained in the library. The function must be one that follows the default C calling convention (See <a href="cffi_Concepts.html#::Concepts-Calling conventions" title="Calling conventions" >Calling conventions</a>).</p>
<p class='ruff'>The <code>$fnname</code> argument is a one or two element list, the first being the name of the C function and the second, if present, being the name of the corresponding Tcl command. The latter defaults to the former if unspecified. Unless fully qualified, the command is created in the namespace from which it is called.</p>
<p class='ruff'>The return type of the C function is specified through the <code>$fntype</code> argument which should be a <a href="cffi_Concepts.html#::Concepts-Return types" title="type declaration" >type declaration</a>.</p>
<p class='ruff'>The <code>$parameters</code> argument is a list of alternating parameter names and type declarations that describe the parameters of the C function. The parameter name is only used to construct error messages while the latter determines how arguments are converted and passed to the C function.</p>
<p class='ruff'>The return type as well as parameter type declarations may have annotations that control semantics and behavior with respect to how values are passed and converted between Tcl and C. See <a href="cffi_Concepts.html#::Concepts-Functions" title="Functions" >Functions</a> for details of these.</p>
<p class='ruff'>The command will raise an error if the function identified by <code>$cname</code> is not found in the loaded DLL.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the created Tcl command.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::functions'>functions</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Tcl commands for multiple C functions within the loaded library.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT functions</span> <span class='ruff_arg'>fnlist</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fnlist</code></td><td class='ruff_defitem'>List of function definitions.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This is a wrapper around the <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::function" title="function" class='ruff_cmd'>function</a> method that provides some syntactic sugar for defining multiple functions. The <code>$fnlist</code> argument is a flat (not nested) list of function name, return type and parameter list in the same form as described for the <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::function" title="function" class='ruff_cmd'>function</a> method.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::path'>path</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the file system path for the wrapped library or image wrapped by the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT path</span> <br></div>
<h5 class='ruff'>Description</h5><p class='ruff'>The returned path may be or may not be normalized and may be in native form or Tcl's canonical form. If no <code>path</code> argument was provided to the constructor, an empty string may be returned on some platforms.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the file system path for the wrapped library or image wrapped by the object.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::stdcall'>stdcall</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a Tcl command to invoke a C function that uses the <code>__stdcall</code> calling convention from the loaded library..</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT stdcall</span> <span class='ruff_arg'>fnname fntype parameters</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fnname</code></td><td class='ruff_defitem'>Name of the function and optionally, Tcl command.</td></tr>
<tr><td class='ruff_defitem'><code>fntype</code></td><td class='ruff_defitem'>The type definition for the return value from the function.</td></tr>
<tr><td class='ruff_defitem'><code>parameters</code></td><td class='ruff_defitem'>List of alternating parameter name and type definitions.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The command creates a Tcl command corresponding to a C function contained in the library. The function must be one that follows the <code>__stdcall</code> calling convention (See <a href="cffi_Concepts.html#::Concepts-Calling conventions" title="Calling conventions" >Calling conventions</a>). The only platform where this differs from the C calling convention is 32-bit Windows. On other platforms, this method is a synonym for <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::function" title="function" class='ruff_cmd'>function</a>.</p>
<p class='ruff'>See <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::function" title="function" class='ruff_cmd'>function</a> for other details.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the created Tcl command.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Library::stdcalls'>stdcalls</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library" title="::cffi::dyncall::Library" class='ruff_cmd'>::cffi::dyncall::Library</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates Tcl commands for multiple C functions within the loaded library that all use the <code>__stdcall</code> calling convention.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT stdcalls</span> <span class='ruff_arg'>fnlist</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fnlist</code></td><td class='ruff_defitem'>List of function definitions.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This is a wrapper around the <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcall" title="stdcall" class='ruff_cmd'>stdcall</a> method that provides some syntactic sugar for defining multiple functions. The <code>$fnlist</code> argument is a flat (not nested) list of function name, return type and parameter list in the same form as described for the <a href="cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcall" title="stdcall" class='ruff_cmd'>stdcall</a> method.</p>
<h3 class='ruffclass'><a name='::cffi::dyncall::Symbols'>Symbols</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall" title="::cffi::dyncall" class='ruff_cmd'>::cffi::dyncall</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall'>dyncall</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::ataddress" title="ataddress" class='ruff_cmd'>ataddress</a></td><td class='ruff_defitem'>Returns the name of the symbol at a specified address.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::count" title="count" class='ruff_cmd'>count</a></td><td class='ruff_defitem'>Returns the number of symbols defined in the library.</td></tr>
<tr><td class='ruff_defitem'><a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::index" title="index" class='ruff_cmd'>index</a></td><td class='ruff_defitem'>Returns the name of the symbol at a specified index.</td></tr>
</table>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Symbols::constructor'>constructor</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols" title="::cffi::dyncall::Symbols" class='ruff_cmd'>::cffi::dyncall::Symbols</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Wraps a shared library / DLL to allow access to its symbols.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Symbols create OBJNAME</span> <span class='ruff_arg'>?path?</span><br><span class='ruff_cmd'>Symbols new</span> <span class='ruff_arg'>?path?</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>path</code></td><td class='ruff_defitem'>Path to the shared library. Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It is strongly recommended that the path to the shared library be specified as an absolute path. Otherwise, it is located in a system-specific manner involving operating system version, environment variables, registry settings (on Windows), phase of the moon etc.. This is not advisable for both reliability and security reasons.</p>
<p class='ruff'>When no longer needed, the object can be deleted in the usual manner (via <code>rename</code> to an empty string) or by invoking its <code>destroy</code> method.</p>
<p class='ruff'>Objects of this class provide access to the symbols defined in the file without actually loading the file and resolving addresses. They can only therefore be used to search for symbols, locate symbols based on their index, and if the library has been loaded already, based on the symbol address.</p>
<p class='ruff'>An error is raised if the file does not exist or does not contain an exports table.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the created object.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Symbols::destructor'>destructor</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols" title="::cffi::dyncall::Symbols" class='ruff_cmd'>::cffi::dyncall::Symbols</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> <br></div>
<h5 class='ruff'>Description</h5><p class='ruff'>The managed shared library may be unloaded if there is nothing else holding a reference to it.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Symbols::ataddress'>ataddress</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols" title="::cffi::dyncall::Symbols" class='ruff_cmd'>::cffi::dyncall::Symbols</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the name of the symbol at a specified address.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ataddress</span> <span class='ruff_arg'>addr</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>addr</code></td><td class='ruff_defitem'>Memory address.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The shared library must have been loaded into the process.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the symbol at a specified address.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Symbols::count'>count</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols" title="::cffi::dyncall::Symbols" class='ruff_cmd'>::cffi::dyncall::Symbols</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the number of symbols defined in the library.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT count</span> <br></div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the number of symbols defined in the library.</p>
<h4 class='ruffmethod'><a name='::cffi::dyncall::Symbols::index'>index</a><span class='ns_scope'> [<a href="cffi_cffi_dyncall.html#::cffi::dyncall::Symbols" title="::cffi::dyncall::Symbols" class='ruff_cmd'>::cffi::dyncall::Symbols</a>]</span><span class='tinylink'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a>, <a href='#top'>Top</a>, <a href='cffi.html'>Main</a>, <a href='cffi_docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns the name of the symbol at a specified index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT index</span> <span class='ruff_arg'>index</span><br></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>index</code></td><td class='ruff_defitem'>Index into symbol table.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The returned value may be an empty string if there is an entry in the symbol table at that index but no name.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the name of the symbol at a specified index.</p>
</div></div><div class='yui-b navbox' style='position: sticky; top: 0;'><h1><a style='padding-top:2px;' href='cffi.html'>Start page</a></h1>
<h1><a href='cffi_docindex.html' accesskey='i'>Index</a></h1>
<hr>
<h1><a href='cffi_Concepts.html'>Concepts</a></h1>
<h1><a href='cffi_cffi.html'>cffi</a></h1>
<h1><a style='color: #006666;background-color: white; margin-left:-4px; padding-left:3px;padding-right:2px;' href='cffi_cffi_dyncall.html'>cffi::dyncall</a></h1>
<hr><h1><a href='#::cffi::dyncall'>cffi::dyncall</a></h1><h2><a href='#::cffi::dyncall-Classes'>Classes</a></h2><h3><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library'>Library</a></h3><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::constructor'>constructor</a><span class='tooltiptext'>Wraps a shared library / DLL, loading it in the process.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::destructor'>destructor</a><span class='tooltiptext'>Destroys the object and releases internal resources.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::addressof'>addressof</a><span class='tooltiptext'>Returns the address of a symbol from the loaded library.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::function'>function</a><span class='tooltiptext'>Creates a Tcl command to invoke a C function in the loaded library.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::functions'>functions</a><span class='tooltiptext'>Creates Tcl commands for multiple C functions within the loaded library.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::path'>path</a><span class='tooltiptext'>Returns the file system path for the wrapped library or image wrapped by the object.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcall'>stdcall</a><span class='tooltiptext'>Creates a Tcl command to invoke a C function that uses the <code>__stdcall</code> calling convention from the loaded library..
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Library::stdcalls'>stdcalls</a><span class='tooltiptext'>Creates Tcl commands for multiple C functions within the loaded library that all use the <code>__stdcall</code> calling convention.
</span></h4><h3><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols'>Symbols</a></h3><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::constructor'>constructor</a><span class='tooltiptext'>Wraps a shared library / DLL to allow access to its symbols.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::destructor'>destructor</a><span class='tooltiptext'>Destroys the object.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::ataddress'>ataddress</a><span class='tooltiptext'>Returns the name of the symbol at a specified address.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::count'>count</a><span class='tooltiptext'>Returns the number of symbols defined in the library.
</span></h4><h4 class='tooltip'><a href='cffi_cffi_dyncall.html#::cffi::dyncall::Symbols::index'>index</a><span class='tooltiptext'>Returns the name of the symbol at a specified index.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
